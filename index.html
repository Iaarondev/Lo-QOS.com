<!DOCTYPE html>
<html lang="en" data-theme="quantum">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lo-QOS - Quantum Computing Operating System</title>
    <meta name="description" content="Quantum-native OS integrating AI, blockchain, and distributed computing with quantum-safe encryption and advanced dApp support">
    <meta property="og:image" content="https://lo-qos.com/assets/images/quantum-og.png">
    
    <!-- Quantum Theme System -->
    <link rel="stylesheet" href="assets/css/quantum-theme.css">
    <style>
        /* Inline Critical CSS */
        .quantum-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--quantum-void);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .quantum-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--quantum-core);
            border-top-color: transparent;
            border-radius: 50%;
            animation: quantum-spin 1s linear infinite;
        }
        @keyframes quantum-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Quantum Loading Screen -->
    <div class="quantum-loader">
        <div class="quantum-spinner"></div>
    </div>

    <!-- Quantum Header -->
    <header class="quantum-header">
        <nav class="quantum-nav">
            <ul>
                <li><a href="#quantum-environment" data-protocol-link>Quantum Core</a></li>
                <li><a href="#qrgb-section" data-protocol-link>QRGB System</a></li>
                <li><a href="#quantum-game" data-protocol-link>Quantum Game</a></li>
                <li><a href="#system-metrics" data-protocol-link>Metrics</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Quantum Interface -->
    <main class="quantum-main">
        <!-- Quantum Environment Section -->
        <section id="quantum-environment" class="quantum-section">
            <div class="quantum-visualization">
                <canvas id="bloch-sphere"></canvas>
                <div class="quantum-controls">
                    <button class="quantum-btn" data-action="hadamard">H Gate</button>
                    <button class="quantum-btn" data-action="measure">Measure</button>
                </div>
                <div id="quantum-log" class="quantum-log"></div>
            </div>
        </section>

        <!-- QRGB Conversion System -->
        <section id="qrgb-section" class="quantum-section">
            <div class="qrgb-converter">
                <div class="color-inputs">
                    <input type="range" id="qrgb-r" min="0" max="255" value="255">
                    <input type="range" id="qrgb-g" min="0" max="255" value="127">
                    <input type="range" id="qrgb-b" min="0" max="255" value="63">
                </div>
                <div class="qrgb-output">
                    <div id="qrgb-visualizer"></div>
                    <code id="qrgb-state"></code>
                </div>
            </div>
        </section>

        <!-- Quantum Game Interface -->
        <section id="quantum-game" class="quantum-section">
            <canvas id="gameCanvas"></canvas>
            <div class="game-controls">
                <div id="game-status" class="quantum-status"></div>
                <button id="quantum-restart" class="quantum-btn">Q-Reset</button>
            </div>
        </section>

        <!-- System Metrics -->
        <section id="system-metrics" class="quantum-section">
            <div class="quantum-stats">
                <div class="metric" id="quantum-entanglement">
                    <h3>Entanglement Level</h3>
                    <div class="metric-bar"></div>
                </div>
                <div class="metric" id="quantum-coherence">
                    <h3>Coherence Time</h3>
                    <div class="metric-bar"></div>
                </div>
            </div>
        </section>
    </main>

    <!-- Quantum Terminal -->
    <aside class="quantum-terminal">
        <div class="terminal-header">QOS Kernel v1.0.0</div>
        <div class="terminal-output" id="system-log"></div>
        <div class="terminal-input">
            <span class="prompt">qos></span>
            <input type="text" id="quantum-command">
        </div>
    </aside>

    <!-- Matrix Overlay -->
    <canvas class="matrix-overlay"></canvas>

    <!-- Quantum Footer -->
    <footer class="quantum-footer">
        <div class="quantum-metrics">
            <div id="system-stats" class="stats-grid"></div>
        </div>
    </footer>

    <!-- Quantum Scripts -->
    <script type="module" src="assets/js/protocol.js" defer></script>
    <script type="module" src="assets/js/quantum-emulation.js" defer></script>
    <script type="module" src="assets/js/media-manager.js" defer></script>
    <script type="module" src="assets/js/theme-manager.js" defer></script>
    <script type="module" src="assets/js/quantum-system.js" defer></script>
    <script type="module" src="assets/js/game.js" defer></script>
    <script type="module" src="assets/js/loqos-core.js" defer></script>

    <!-- Quantum System Initialization -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize core system
            window.loqos = new LoQOSSystem();
            window.loqos.init().catch(error => {
                console.error('Quantum initialization error:', error);
                document.querySelector('.quantum-loader').textContent = 
                    'Quantum Decoherence Detected! Refresh to retry...';
            });

            // Service Worker Registration
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('Quantum Service Worker registered:', reg))
                    .catch(err => console.error('QSW registration failed:', err));
            }
        });
    </script>
</body>
</html>
