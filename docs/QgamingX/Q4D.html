<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lo-QOS Developer Quantum Demo</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: #000;
        font-family: Arial, sans-serif;
      }
      #stats {
        position: absolute;
        top: 10px;
        left: 10px;
        color: #fff;
        background: rgba(0, 0, 0, 0.5);
        padding: 10px;
        border-radius: 8px;
        display: none;
      }
      #controls {
        position: absolute;
        top: 10px;
        right: 10px;
        color: #fff;
        background: rgba(0, 0, 0, 0.5);
        padding: 10px;
        border-radius: 8px;
      }
      button {
        background: #333;
        color: #fff;
        border: none;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 5px;
      }
      button:hover {
        background: #555;
      }
      .tooltip {
        position: absolute;
        background: #444;
        color: #fff;
        padding: 5px;
        border-radius: 5px;
        font-size: 12px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="stats">
      <p><strong>Quantum Stats</strong></p>
      <p
        data-tooltip="Frames per second, a measure of performance. Higher is better."
      >
        FPS: <span id="fps">0</span>
      </p>
      <p data-tooltip="Score represents the player's progress in the story.">
        Score: <span id="score">0</span>
      </p>
      <p data-tooltip="Player lives left. Game over when it reaches 0.">
        Lives: <span id="lives">3</span>
      </p>
      <p
        data-tooltip="Current quantum integration level, representing system optimization."
      >
        Integration Level: <span id="integration">0.2</span>
      </p>
      <p
        data-tooltip="Number of qubits processed for dynamic state calculations."
      >
        Qubits Processed: <span id="qubits">0</span>
      </p>
      <p data-tooltip="Number of zero-knowledge proof validations performed.">
        ZKP Validations: <span id="zkp">0</span>
      </p>
      <p
        data-tooltip="The quantum kernel manages entanglement maps and optimizations."
      >
        Kernel Quantum Integrations: <span id="kernel">0</span>
      </p>
    </div>
    <div id="controls">
      <button id="toggleStats">Toggle Stats</button>
      <button id="unlockFrames">Unlock Frames</button>
      <button id="resetGame">Reset Game</button>
    </div>
    <canvas id="gameCanvas"></canvas>
    <div id="tooltip" class="tooltip"></div>

    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let frameCount = 0;
      let lastTime = performance.now();
      let fps = 0;
      let score = 0;
      let lives = 3;
      let qubitsProcessed = 0;
      let zkpValidations = 0;
      let integrationLevel = 0.2;
      let unlockedFrames = false;
      let kernelQuantumIntegrations = 0;

      const tooltip = document.getElementById("tooltip");

      // Game Entities
      const player = {
        x: canvas.width / 2,
        y: canvas.height - 50,
        size: 20,
        color: "#00ff00",
        speed: 5,
        health: 3,
      };
      const projectiles = [];
      const enemies = [];

      // Dynamic Quantum Environment
      const environment = {
        level: 0.2,
        generate() {
          // Procedural generation based on integration level
          const colorIntensity = Math.round((this.level / 1.0) * 255);
          ctx.fillStyle = `rgb(${colorIntensity}, ${colorIntensity / 2}, ${
            colorIntensity / 3
          })`;
          ctx.fillRect(0, 0, canvas.width, canvas.height);
        },
      };

      // Simulate Qubit Processing
      function processQubit() {
        qubitsProcessed++;
        return Math.random() < 0.5 ? 0 : 1;
      }

      // Simulate ZKP Validation
      function validateZKP(state) {
        zkpValidations++;
        const proof = btoa(state.toString());
        return atob(proof) === state.toString();
      }

      // Tooltip Hover Handling
      document.addEventListener("mouseover", (e) => {
        const tooltipText = e.target.getAttribute("data-tooltip");
        if (tooltipText) {
          tooltip.textContent = tooltipText;
          tooltip.style.display = "block";
          tooltip.style.left = `${e.pageX + 10}px`;
          tooltip.style.top = `${e.pageY + 10}px`;
        }
      });

      document.addEventListener("mouseout", (e) => {
        if (e.target.getAttribute("data-tooltip")) {
          tooltip.style.display = "none";
        }
      });

      // Toggle Stats Display
      document.getElementById("toggleStats").addEventListener("click", () => {
        const statsDiv = document.getElementById("stats");
        statsDiv.style.display =
          statsDiv.style.display === "none" ? "block" : "none";
      });

      // Unlock Frames
      document.getElementById("unlockFrames").addEventListener("click", () => {
        unlockedFrames = true;
        integrationLevel = 1.0; // Simulate full quantum optimization
      });

      // Reset Game
      document.getElementById("resetGame").addEventListener("click", () => {
        location.reload();
      });

      // Game Loop
      function gameLoop() {
        const now = performance.now();
        const deltaTime = now - lastTime;
        frameCount++;

        if (!unlockedFrames && deltaTime > 1000) {
          fps = Math.round((frameCount / deltaTime) * 1000);
          document.getElementById("fps").textContent = fps;
          frameCount = 0;
          lastTime = now;
        }

        environment.generate();
        document.getElementById("score").textContent = score;
        document.getElementById("lives").textContent = lives;
        document.getElementById("qubits").textContent = qubitsProcessed;
        document.getElementById("zkp").textContent = zkpValidations;
        document.getElementById("integration").textContent =
          integrationLevel.toFixed(1);
        document.getElementById("kernel").textContent =
          kernelQuantumIntegrations;

        // Request next frame
        requestAnimationFrame(gameLoop);
      }

      // Start Game Loop
      gameLoop();
    </script>
  </body>
</html>
